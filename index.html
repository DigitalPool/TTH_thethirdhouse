<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TTH Loading Animation Preview</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background-color: #000;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* Main container for the curtain and logo */
    .curtain-section {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 100;
      background-color: transparent; /* Let content show through between curtains */
    }
    
    /* Curtain panels that will split */
    .curtain {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
      background-color: #000;
      transition: transform 1.2s cubic-bezier(0.77, 0, 0.175, 1);
      z-index: 10;
      will-change: transform;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    /* When we want curtains above the logo to see the split */
    .curtain-front .curtain {
      z-index: 30;
    }
    
    .curtain-left {
      left: 0;
      transform: translateX(0);
    }
    
    .curtain-right {
      right: 0;
      transform: translateX(0);
    }
    
    /* Logo container positioned in the center */
    .logo-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 20;
      transition: opacity 0.5s ease;
      will-change: opacity;
    }
    
    #lottie {
      width: 80vw;
      height: 80vh;
      cursor: pointer;
      transition: transform 0.5s ease;
    }
    
    .click-hint {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 1.2rem;
      opacity: 0;
      transition: opacity 0.5s ease;
      text-align: center;
      z-index: 25;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px 20px;
      border-radius: 20px;
    }
    
    /* Website content that will be revealed */
    .content {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      color: black;
      padding: 40px;
      opacity: 0;
      transition: opacity 0.6s ease 0.2s;
      overflow-y: auto;
      z-index: 5;
      pointer-events: none;
      will-change: opacity;
    }
    
    .content.visible {
      opacity: 1;
      pointer-events: auto;
    }
    
    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      color: black;
    }
    
    p {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }
    
    .feature-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 10px;
      backdrop-filter: blur(10px);
      transition: transform 0.3s ease;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
    }
    
    .feature-card h3 {
      color: #000000;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }
    
    .reset-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #ff9a00, #ff6a00);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      z-index: 200;
      opacity: 0;
      pointer-events: none;
    }
/*     
    .reset-btn.visible {
      opacity: 1;
      pointer-events: all;
    }
    
    .reset-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    } */
    
    /* Animation classes */
    .curtain-open .curtain-left {
      transform: translateX(-100%);
    }
    
    .curtain-open .curtain-right {
      transform: translateX(100%);
    }
    
    .curtain-open .logo-container {
      pointer-events: none;
      opacity: 0;
    }
    
    /* Pulsing animation for the logo */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 2s infinite ease-in-out;
    }
    
    @media (max-width: 768px) {
  h1 {
    font-size: 2.2rem;
  }

  .features {
    grid-template-columns: 1fr;
  }

  .click-hint {
    font-size: 1rem;
    bottom: 5%;
  }

  /* Make the logo/Lottie fill more of the screen on mobile */
  #lottie {
    width: 80vw;            /* base logical size */
    height: auto;
    max-width: 100vw;
    max-height: 85dvh;      /* cap height to viewport on tall phones */
  }

  /* Scale the parent so child pulse animation doesn't override base scale */
  .logo-container {
    justify-content: center;
    align-items: center;
    overflow: visible;
    transform: scale(3);
    transform-origin: center center;
    will-change: transform;
  }
}
  </style>
</head>
<body>
  <!-- Curtain section with logo -->
  <div class="curtain-section" id="curtainSection">
    <div class="curtain curtain-left"></div>
    <div class="curtain curtain-right"></div>
    
    <div class="logo-container">
      <div id="lottie"></div>
      <div class="click-hint" id="clickHint">Click to enter website</div>
    </div>
  </div>

  <!-- Website content to be revealed -->
  <div class="content" id="content">
    <h1>The Third House Artist Agency</h1>
    <p>We are a collective of visionaries shaping visual culture through art, sound, and motion. The Third House exists where creativity meets consciousness, representing artists who redefine the edges of design, fashion, and digital storytelling.</p>
    <p>Our mission is simple: to curate, connect, and champion creative voices that move the world forward. Every project, every collaboration, and every campaign is built on authenticity, innovation, and emotion.</p>

    <div class="features">
      <div class="feature-card">
        <h3>Artist Management</h3>
        <p>We represent multidisciplinary creators,from visual artists and filmmakers to designers and sound curators,guiding their journeys and amplifying their reach.</p>
      </div>
      <div class="feature-card">
        <h3>Creative Direction</h3>
        <p>Through bold concepts and refined execution, we shape brand stories that live at the intersection of art, culture, and digital experience.</p>
      </div>
      <div class="feature-card">
        <h3>Collaborative Projects</h3>
        <p>We partner with global brands and independent creatives to produce exhibitions, campaigns, and experiences that transcend boundaries.</p>
      </div>
    </div>

    <p style="margin-top:40px;">The Third House is more than an agency,itâ€™s a constellation of creative energy. Join us as we build the next frontier of artistic collaboration.</p>
  </div>

  <!-- <button class="reset-btn" id="resetBtn">Reset Animation</button> -->

  <script>
    const curtainSection = document.getElementById('curtainSection');
    const lottieContainer = document.getElementById('lottie');
    const clickHint = document.getElementById('clickHint');
    const content = document.getElementById('content');
    const resetBtn = document.getElementById('resetBtn');
    const logoContainer = document.querySelector('.logo-container');
    let isOpen = false;
    let animation;
    let animationComplete = false;

    // Load the actual TTH animation
    function loadAnimation() {
      // Load animation from the JSON file
      animation = lottie.loadAnimation({
        container: lottieContainer,
        renderer: 'svg',
        loop: false,
        autoplay: true,
        path: 'TTH_animation.json' // Path to your animation file
      });
      
      // Handle animation loading error
      animation.addEventListener('DOMLoaded', () => {
        console.log('Animation loaded successfully');
      });
      
      animation.addEventListener('data_failed', () => {
        console.error('Failed to load animation JSON file');
      });
      
      // When animation completes, add pulsing effect and click hint
      animation.addEventListener('complete', () => {
        console.log('Animation completed');
        animationComplete = true;

        // Sizing handled via CSS; avoid inline transform overrides on mobile

        // Add pulsing animation to invite clicking
        lottieContainer.classList.add('pulse');

        // Show click hint
        clickHint.style.opacity = '1';

        // Make the logo clickable
        lottieContainer.style.cursor = 'pointer';
        logoContainer.style.cursor = 'pointer';

        // Store animation completion state in localStorage
        localStorage.setItem('animationPlayed', 'true');
      });

    }

    // Open curtain on logo click - attach to both containers for better reliability
    function openCurtain() {
      if (!isOpen && animationComplete) {
        lottieContainer.classList.add('hidden');
        console.log('Opening curtain');
        // Step 1: bring curtains to front and start fading logo/content in same frame
        curtainSection.classList.add('curtain-front');
        content.classList.add('visible');
        // if (resetBtn) resetBtn.classList.add('visible');
        // Stop the pulsing animation and hide hint now
        lottieContainer.classList.remove('pulse');
        clickHint.style.opacity = '0';

        // Step 2: on next frame, trigger curtain transforms for smooth GPU anim
        requestAnimationFrame(() => {
          curtainSection.classList.add('curtain-open');
          isOpen = true;
        });

        // After curtain animation completes, hide the curtain section
        setTimeout(() => {
          curtainSection.style.pointerEvents = 'none';
          curtainSection.style.zIndex = '1';
          curtainSection.classList.remove('curtain-front');
          console.log('Curtain section hidden, content should be visible now');
        }, 1200); // Match the curtain transition duration
      } else if (!animationComplete) {
        console.log('Animation not complete yet, please wait');
      }
    }
    
    // Attach click handlers to multiple elements for better reliability
    lottieContainer.addEventListener('click', openCurtain);
    logoContainer.addEventListener('click', openCurtain);
    
    // Reset animation
    // resetBtn.addEventListener('click', function() {
    //   console.log('Resetting animation');
    //   curtainSection.classList.remove('curtain-open');
    //     curtainSection.style.pointerEvents = 'auto';
    //     curtainSection.style.zIndex = '100';
    //     curtainSection.classList.remove('curtain-front');
    //   content.classList.remove('visible');
    //   resetBtn.classList.remove('visible');
    //   isOpen = false;
    //   animationComplete = false;
      
    //   // Restart the Lottie animation
    //   if (animation) {
    //     animation.goToAndPlay(0);
        
    //     // Remove pulsing effect until animation completes again
    //     lottieContainer.classList.remove('pulse');
    //     clickHint.style.opacity = '0';
    //   }
    // });
    
    // Start loading the animation when the document is ready
    document.addEventListener('DOMContentLoaded', loadAnimation);
  </script>
</body>
</html>